<div align='center' >

# 面向对象

</div>

> [程序练习](https://github.com/Nicolas-gaofeng/Salute_Java/blob/main/src/basic/oo)

## 1. 类和对象

### 1.1 类和对象的理解

客观存在的事物皆为对象 ，所以我们也常常说万物皆对象。

![image-20210206162418746](https://gitee.com/zgf1366/pic_store/raw/master/img/20210206162418.png)

- 类
  - 类的理解

    - 类是对现实生活中一类具有共同属性和行为的事物的抽象
    - 类是对象的数据类型，类是具有相同属性和行为的一组对象的集合
    - 简单理解：类就是对现实事物的一种描述

  - 类的组成

    - 属性：指事物的特征，例如：手机事物（品牌，价格，尺寸）
    - 行为：指事物能执行的操作，例如：手机事物（打电话，发短信）

  - 类和对象的关系

    - 类：类是对现实生活中一类具有共同属性和行为的事物的抽象
    - 对象：是能够看得到摸的着的真实存在的实体
    - 简单理解：类是对事物的一种描述，对象则为具体存在的事物

    ![image-20210206162650965](https://gitee.com/zgf1366/pic_store/raw/master/img/20210206162651.png)

### 1.2 类的定义

类的重要性：是Java程序的基本组成单位

类是什么：是对现实生活中一类具有**共同属性**和**行为**的事物的抽象，确定对象将会拥有的属性和行为

类的组成是由属性和行为两部分组成

- 属性：在类中通过成员变量来体现（类中方法外的变量）
- 行为：在类中通过成员方法来体现（和前面的方法相比去掉static关键字即可）

**类的特点：**

- 类是对象的数据类型
- 类是具有相同属性和行为的一组对象的集合

类的定义步骤：
① 定义类
② 编写类的成员变量
③ 编写类的成员方法

```java
public class Phone {
    //成员变量
    String brand;
    int price;
    //成员方法
    public void call() {
    	System.out.println("打电话");
    }
    public void sendMessage() {
    	System.out.println("发短信");
    }
}
```

### 1.3 对象的使用

**创建对象的格式：**
类名 对象名 = new 类名();

范例：

```java
Phone p = new Phone();
```

**调用成员的格式：***

1：使用成员变量

格式：对象名.变量名

范例：

```java
p.brand
```

2：使用成员方法

格式：对象名.方法名()

范例：

```java
p.call()
```

## 2. 对象内存图

### 2.1 对象内存图(单个对象)

成员变量使用过程

![image-20210206163727326](https://gitee.com/zgf1366/pic_store/raw/master/img/20210206163727.png)



成员变量调用过程

![image-20210206163813810](https://gitee.com/zgf1366/pic_store/raw/master/img/20210206163813.png)

### 2.2 多个对象内存图

成员变量使用过程

![image-20210206163942114](https://gitee.com/zgf1366/pic_store/raw/master/img/20210206163942.png)



成员变量调用过程

![image-20210206164012034](https://gitee.com/zgf1366/pic_store/raw/master/img/20210206164012.png)

总结：
多个对象在堆内存中，都有不同的内存划分，成员变量存储在各自的内存区域中，成员方法多个对象共用的一份

### 2.3 多个对象指向相同内存图

![image-20210206164119856](https://gitee.com/zgf1366/pic_store/raw/master/img/20210206164119.png)

**总结**
当多个对象的引用指向同一个内存空间（变量所记录的地址值是一样的）
只要有任何一个对象修改了内存中的数据，随后，无论使用哪一个对象进行数据获取，都是修改后的数据。

## 3.成员变量和局部变量

成员变量：类中方法外的变量

局部变量：方法中的变量

![image-20210206183635055](https://gitee.com/zgf1366/pic_store/raw/master/img/20210206183643.png)

### 3.1 成员变量和局部变量的区别

|      区别      |                        成员变量                        |                           局部变量                           |
| :------------: | :----------------------------------------------------: | :----------------------------------------------------------: |
|  类中位置不同  |                 成员变量（类中方法外）                 |               局部变量（方法内部或方法声明上）               |
| 内存中位置不同 |                   成员变量（堆内存）                   |                      局部变量（栈内存）                      |
|  生命周期不同  | 成员变量（随着对象的存在而存在，随着对象的消失而消失） | 局部变量（随着方法的调用而<br/>存在，醉着方法的调用完毕而消失） |
|  初始化值不同  |               成员变量（有默认初始化值）               |    局部变量（没有默认初始化值，必须先定义，赋值才能使用）    |

## 4. 构造方法

### 4.1 构造方法概述

构造方法是一种特殊的方法

作用：创建对象

功能：主要是完成对象数据的初始化

### 4.2 构造方法的注意事项

构造方法的创建

- 如果没有定义构造方法，系统将给出一个默认的无参数构造方法
- 如果定义了构造方法，系统将不再提供默认的构造方法



构造方法的重载

- 如果自定义了带参构造方法，还要使用无参数构造方法，就必须再写一个无参数构造方法



推荐的使用方式

- `无论是否使用，都手工书写无参数构造方法`

### 4.3 标准类制作

成员变量 

- 使用**private**修饰

构造方法 

- 提供一个无参构造方法
- 提供一个带多个参数的构造方法

成员方法 

- 提供每一个成员变量对应的setXxx()/getXxx()
- 提供一个显示对象信息的show()

创建对象并为其成员变量赋值的两种方式

- 无参构造方法创建对象后使用setXxx()赋值
- 使用带参构造方法直接创建带有属性值的对象

## 5. 修饰符

### 5.1 修饰符的分类

- 权限修饰符
- 状态修饰符

### 5.2 权限修饰符

|  修饰符   | 同一个类中 | 同一个包中子类无关类 | 不同包的子类 | 不同包的无关类 |
| :-------: | :--------: | :------------------: | :----------: | :------------: |
|  private  |     √      |                      |              |                |
|   默认    |     √      |          √           |              |                |
| protected |     √      |          √           |      √       |                |
|  public   |     √      |          √           |      √       |       √        |

### 5.3 状态修饰符

- final(最终态)
- static(静态)

### 5.4 final

**final** 关键字是最终的意思，可以修饰成员方法，成员变量，类

**final** 修饰的特点

- 修饰方法：表明该方法是最终方法，**不能被重写**
- 修饰变量：表明该变量是常量，**不能再次被赋值**
- 修饰类：表明该类是最终类，**不能被继承**

### 5.5 final修饰局部变量

- 变量是基本类型：final 修饰指的是基本类型的**数据值**不能发生改变
- 变量是引用类型：final 修饰指的是引用类型的**地址值**不能发生改变，但是地址里面的内容是可以发生改变的

### 5.6 static

**static** 关键字是静态的意思，可以修饰成员方法，成员变量

**static** 修饰的特点

- 被类的所有对象共享

  这也是我们判断是否使用静态关键字的条件

- 可以通过类名调用

  当然，也可以通过对象名调用

  **推荐使用类名调用**

### 5.7 static访问特点

非静态的成员方法

- 能访问静态的成员变量
- 能访问非静态的成员变量
- 能访问静态的成员方法
- 能访问非静态的成员方法

静态的成员方法

- 能访问静态的成员变量
- 能访问静态的成员方法

**总结成一句话就是：静态成员方法只能访问静态成员**

## 6. 内部类

> [程序练习](https://github.com/Nicolas-gaofeng/Salute_Java/blob/main/src/basic/oo/oo/myInnerClass)

### 6.1 内部类概述

内部类：就是在一个类中定义一个类。举例：在一个类A的内部定义一个类B，类B就被称为内部类

内部类的访问特点

- 内部类可以直接访问外部类的成员，包括私有
- 外部类要访问内部类的成员，必须创建对象



内部类的定义格式

格式：

![image-20210207115123728](https://gitee.com/zgf1366/pic_store/raw/master/img/20210207115123.png)

范例：

![image-20210207115138253](https://gitee.com/zgf1366/pic_store/raw/master/img/20210207115138.png)

### 6.2 成员内部类

按照内部类在类中定义的位置不同，可以分为如下两种形式

- 在类的成员位置：成员内部类
- 在类的局部位置：局部内部类



成员内部类，外界如何创建对象使用呢？

- 格式：外部类名.内部类名 对象名 = 外部类对象.内部类对象;
- 范例：Outer.Inner oi = new Outer().new Inner();

### 6.3 局部内部类

局部内部类是在方法中定义的类，所以外界是无法直接使用，需要在方法内部创建对象并使用

该类可以直接访问外部类的成员，也可以访问方法内的局部变量

### 6.4 匿名内部类

前提：存在一个类或者接口，这里的类可以是具体类也可以是抽象类



格式：

![image-20210207115251270](https://gitee.com/zgf1366/pic_store/raw/master/img/20210207115251.png)

范例：

![image-20210207115257477](https://gitee.com/zgf1366/pic_store/raw/master/img/20210207115257.png)

**本质：是一个继承了该类或者实现了该接口的子类匿名对象**

### 6.5 匿名内部类在开发中的使用

![image-20210207115319283](https://gitee.com/zgf1366/pic_store/raw/master/img/20210207115319.png)

## 7. 形参和返回值

> [程序练习](https://github.com/Nicolas-gaofeng/Salute_Java/blob/main/src/basic/oo/oo/myArgs)

### 7.1 类名作为形参和返回值

- 方法的形参是类名，其实需要的是该类的对象
- 方法的返回值是类名，其实返回的是该类的对象

### 7.2 抽象类名作为形参和返回值

- 方法的形参是抽象类名，其实需要的是该抽象类的子类对象
- 方法的返回值是抽象类名，其实返回的是该抽象类的子类对象

### 7.3 接口名作为形参和返回值

- 方法的形参是接口名，其实需要的是该接口的实现类对象
- 方法的返回值是接口名，其实返回的是该接口的实现类对象