<div align='center' >

# 字符串

</div>

> [程序练习](https://github.com/Nicolas-gaofeng/Salute_Java/blob/main/src/basic/str)

## 1. API

### 1.1 API概述

**API** (Application Programming Interface) ：应用程序编程接口

编写一个机器人程序去控制机器人踢足球，程序需要向机器人发出向前跑、向后跑、射门、抢球等各种命令。机器人厂商一定会提供一些用于控制机器人的接口类，这些类中定义好了操作机器人各种动作的方法。其实，这些接口类就是机器人厂商提供给应用程序编程的接口，大家把这些类称为 API

Java API ：指的就是 JDK 中提供的各种功能的 Java类

这些类将底层的实现封装了起来，我们不需要关心这些类是如何实现的，

只需要学习这些类如何使用即可，我们可以通过帮助文档来学习这些API如何使用

### 1.2 如何使用帮助文档

① 右键打开该文档

![image-20210206190955606](https://gitee.com/zgf1366/pic_store/raw/master/img/20210206190955.png)

② 找到索引选项卡中的输入框

![image-20210206191012031](https://gitee.com/zgf1366/pic_store/raw/master/img/20210206191012.png)

③ 在输入框中输入Random

![image-20210206191026235](https://gitee.com/zgf1366/pic_store/raw/master/img/20210206191026.png)

④ 看类在哪个包下

![image-20210206191037015](https://gitee.com/zgf1366/pic_store/raw/master/img/20210206191037.png)

⑤ 看类的描述 

![image-20210206191049521](https://gitee.com/zgf1366/pic_store/raw/master/img/20210206191049.png)

⑥ 看构造方法

![image-20210206191059880](https://gitee.com/zgf1366/pic_store/raw/master/img/20210206191059.png)

⑦ 成员方法

![image-20210206191112079](https://gitee.com/zgf1366/pic_store/raw/master/img/20210206191112.png)

## 2. String

### 2.1 String 概述

String 类在java.lang包下，所以使用的时候不需要导包



String类代表字符串，Java 程序中的所有字符串文字（例如“abc”）都被实现为此类的实例

也就是说，Java程序中所有的双引号字符串，都是String类的对象

**字符串的特点**

- 字符串不可变，它们的值在创建后不能被更改
- 虽然 String 的值是不可变的，但是它们可以被共享
- 字符串效果上相当于字符数组( char[] )，但是底层原理是字节数组( byte[] )

### 2.2 String 构造方法

|           方法名           |                   说明                    |
| :------------------------: | :---------------------------------------: |
|      public  String()      |  创建一个空白字符串对象，不含有任何内容   |
| public  String(char[] chs) |   根据字符数组的内容，来创建字符串对象    |
| public  String(byte[] bys) |   根据字节数组的内容，来创建字符串对象    |
|     String s =  “abc”;     | 直接赋值的方式创建字符串对象，内容就是abc |

### 2.3 String对象的特点

1）通过 new 创建的字符串对象，每一次 new 都会申请一个内存空间，虽然内容相同，但是地址值不同

```java
char[] chs = {'a', 'b', 'c'};
String s1 = new String(chs);
String s2 = new String(chs);
```

上面的代码中，JVM会首先创建一个字符数组，然后每一次new的时候都会有一个新的地址，只不过s1和s2参考的字符串内容是相同的

2）以“”方式给出的字符串，只要字符序列相同(顺序和大小写)，无论在程序代码中出现几次，

JVM 都只会建立一个 String 对象，并在字符串池中维护

```java
 String s3 = "abc";
 String s4 = "abc";
```

在上面的代码中，针对第一行代码，JVM 会建立一个 String 对象放在字符串池中，并给 s3 参考；

第二行则让 s4 直接参考字符串池中的 String 对象，也就是说它们本质上是同一个对象

![image-20210206191551950](https://gitee.com/zgf1366/pic_store/raw/master/img/20210206191552.png)

### 2.4 字符串的比较

使用 **==** 做比较

- 基本类型：比较的是**数据值**是否相同
- 引用类型：比较的是**地址值**是否相同

字符串是对象，它比较内容是否相同，是通过一个方法来实现的，这个方法叫：equals()

- 字符串是对象，它比较内容是否相同，是通过一个方法来实现的，这个方法叫：equals()

### 2.5 案例

#### 2.5.1 用户登录

需求：已知用户名和密码，请用程序实现模拟用户登录。总共给三次机会，登录之后，给出相应的提示

思路：

① 已知用户名和密码，定义两个字符串表示即可

② 键盘录入要登录的用户名和密码，用Scanner实现

③ 拿键盘录入的用户名、密码和已知的用户名、密码进行比较，给出相应的提示。字符串的内容比较，用equals()方法实现

④ 用循环实现多次机会，这里的次数明确，采用for循环实现，并在登录成功的时候，使用break结束循环

#### 2.5.2 遍历字符串

需求：键盘录入一个字符串，使用程序实现在控制台遍历该字符串

思路：

① 键盘录入一个字符串，用 Scanner 实现

② 遍历字符串，首先要能够获取到字符串中的每一个字符

- public char charAt(int index)：返回指定索引处的char值，字符串的索引也是从0开始的

③ 遍历字符串，其次要能够获取到字符串的长度

- public int **length()**：返回此字符串的长度
- 数组的长度：数组名.length
- 字符串的长度：字符串对象.length()

④ 遍历字符串的通用格式

```java
for(int i=0; i<s.length(); i++) {
  s.charAt(i);  // 就是指定索引处的字符值
}
```

#### 2.5.3 统计字符次数

需求：键盘录入一个字符串，统计该字符串中大写字母字符，小写字母字符，数字字符出现的次数(不考虑其他字符)

思路：

① 键盘录入一个字符串，用 Scanner 实现

② 要统计三种类型的字符个数，需定义三个统计变量，初始值都为0

③ 遍历字符串，得到每一个字符

④ 判断该字符属于哪种类型，然后对应类型的统计变量+1

假如ch是一个字符，我要判断它属于大写字母，小写字母，还是数字，直接判断该字符是否在对应的范围即可

- 大写字母：ch>='A' && ch<='Z' 
- 小写字母： ch>='a' && ch<='z'
- 数字： ch>='0' && ch<='9'

⑤ 输出三种类型的字符个数

#### 2.5.4 拼接字符串

需求：定义一个方法，把 int 数组中的数据按照指定的格式拼接成一个字符串返回，调用该方法，并在控制台输出结果。例如，数组为 int[] arr = {1,2,3}; ，执行方法后的输出结果为：[1, 2, 3]

思路：

① 定义一个 int 类型的数组，用静态初始化完成数组元素的初始化

② 定义一个方法，用于把 int 数组中的数据按照指定格式拼接成一个字符串返回。返回值类型String，参数列表int[] arr

③ 在方法中遍历数组，按照要求进行拼接

④ 调用方法，用一个变量接收结果

⑤ 输出结果

#### 2.5.5 字符串反转

需求：定义一个方法，实现字符串反转。键盘录入一个字符串，调用该方法后，在控制台输出结果

例如，键盘录入 abc，输出结果 cba

思路：

① 键盘录入一个字符串，用Scanner实现

② 定义一个方法，实现字符串反转。返回值类型String，参数String s

③ 在方法中把字符串倒着遍历，然后把每一个得到的字符拼接成一个字符串并返回

④ 调用方法，用一个变量接收结果

⑤ 输出结果

### 2.6 通过帮助文档查看String中的方法

|                 方法名                  |                      说明                      |
| :-------------------------------------: | :--------------------------------------------: |
| public  boolean equals(Object anObject) | 比较字符串的内容，严格区分大小写(用户名和密码) |
|     public char charAt(int  index)      |            返回指定索引处的 char 值            |
|          public int  length()           |               返回此字符串的长度               |

## 3. StringBuilder

### 3.1 StringBuilder概述

StringBuilder 是一个可变的字符串类，我们可以把它看成是一个容器，这里的可变指的是 StringBuilder 对象中的内容是可变的

![image-20210206192505743](https://gitee.com/zgf1366/pic_store/raw/master/img/20210206192505.png)

如果对字符串进行拼接操作，每次拼接，都会构建一个新的 String 对象，既耗时，又浪费内存空间，而这种操作还不可避免。那么有没有一种比较好的方式可以解决这个问题呢？答案是肯定的，我们可以通过 Java 提供的 StringBuilder类就来解决这个问题。

### 3.2 StringBuilder类和String类的区别 

- String类：内容是不可变的
- StringBuilder类：内容是可变的

### 3.3 StringBuilder类的构造方法 

|              方法名               |                    说明                    |
| :-------------------------------: | :----------------------------------------: |
|      public StringBuilder()       | 创建一个空白可变字符串对象，不含有任何内容 |
| public StringBuilder(String  str) |   根据字符串的内容，来创建可变字符串对象   |

### 3.4 StringBuilder的添加和反转方法

|                 方法名                 |           说明           |
| :------------------------------------: | :----------------------: |
| public StringBuilder  append(任意类型) | 添加数据，并返回对象本身 |
|    public StringBuilder  reverse()     |    返回相反的字符序列    |

### 3.5 StringBuilder和String相互转化

#### 3.5.1 StringBuilder转换为String

​    public String toString()：通过 toString() 就可以实现把 StringBuilder 转换为 String

#### 3.5.2 String转换为StringBuilder

​    public StringBuilder(String s)：通过构造方法就可以实现把 String 转换为 StringBuilder

### 3.6 案例

#### 3.6.1 拼接字符串

需求：定义一个方法，把 int 数组中的数据按照指定的格式拼接成一个字符串返回，调用该方法，并在控制台输出结果。例如，数组为int[] arr = {1,2,3}; ，执行方法后的输出结果为：[1, 2, 3]

思路：

① 定义一个 int 类型的数组，用静态初始化完成数组元素的初始化

② 定义一个方法，用于把 int 数组中的数据按照指定格式拼接成一个字符串返回。返回值类型 String，参数列表 int[] arr

③ 在方法中用 StringBuilder 按照要求进行拼接，并把结果转成 String 返回

④ 调用方法，用一个变量接收结果

⑤ 输出结果

#### 3.6.2 字符串反转

需求：定义一个方法，实现字符串反转。键盘录入一个字符串，调用该方法后，在控制台输出结果

例如，键盘录入abc，输出结果 cba

思路：

① 键盘录入一个字符串，用Scanner实现

② 定义一个方法，实现字符串反转。返回值类型String，参数String s

③ 在方法中用StringBuilder实现字符串的反转，并把结果转成String返回

④ 调用方法，用一个变量接收结果

⑤ 输出结果

### 3.7 通过帮助文档查看StringBuilder中的方法

|                 方法名                  |                        说明                         |
| :-------------------------------------: | :-------------------------------------------------: |
| public  StringBuilder append (任意类型) |              添加数据，并返回对象本身               |
|     public  StringBuilder reverse()     |                 返回相反的字符序列                  |
|         public int  capacity()          |              返回当前容量，理论存储值               |
|          public int  length()           |                返回长度，实际存储值                 |
|        public  String toString()        | 通过toString()就可以实现把StringBuilder转换为String |